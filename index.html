<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>شاركنا فرحتك بالعيد</title>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap');

        body {
            margin: 0;
            padding: 0;
            font-family: 'Cairo', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100vw;
            height: 100vh;
            background: #f7f7f7;
            overflow: hidden;
        }

        .card-container {
            position: relative;
            width: 90%;
            max-width: 800px;
            height: auto;
            aspect-ratio: 9 / 16;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .card {
            width: 100%;
            height: 100%;
            position: relative;
            overflow: hidden;
            border-radius: 0px;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.2);
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .card img {
            object-fit: cover;
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
            z-index: -1;
            pointer-events: none;
        }

        .controls {
            position: fixed;
            bottom: 6%;
            left: 50%;
            transform: translateX(-50%);
            z-index: 10;
            display: flex;
            gap: 3vw;
            justify-content: center;
            align-items: center;
            width: 80%;
            max-width: 500px;
            font-family: 'Cairo', sans-serif;
        }

        .controls input,
        .controls button {
            font-family: 'Cairo', sans-serif;
            font-size: 22px;
            padding: 12px;
            border: none;
            border-radius: 40px;
            text-align: center;
            width: auto;
            min-width: 100px;
        }

        .download-btn,
        .preview-btn {
            background: #4CAF50;
            color: white;
            cursor: pointer;
        }

        .name-overlay {
            font-family: 'Cairo', sans-serif;
            position: absolute;
            top: 43%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 24px; /* صغّرنا حجم الخط */
            color: #fff;
            padding: 10px 20px;
            border-radius: 16px;
            border: 2px solid #fff; /* الحواف بيضاء */
            white-space: nowrap;
            z-index: 20;
            text-align: center;
        }

        @media (max-width: 768px) {
            .controls input,
            .controls button {
                font-size: 18px;
                padding: 8px;
                min-width: 80px;
            }

            .name-overlay {
                font-size: 20px;
                padding: 8px 16px;
            }
        }

        @media (max-width: 480px) {
            .card-container {
                width: 95%;
            }

            .name-overlay {
                font-size: 18px;
                padding: 6px 14px;
            }
        }
    </style>
</head>

<body>

    <div class="controls">
        <input type="text" id="name" placeholder="ادخل اسمك" />
        <button class="preview-btn" onclick="previewName()">معاينة</button>
        <button class="download-btn" onclick="downloadImage()">تحميل</button>
    </div>

    <div class="card-container">
        <div class="card" id="card">
            <img id="cardImage" src="https://raw.githubusercontent.com/Laverne5/-/f7a2ed57893acf2fcaa6126e668eb8671a9077ee/بطاقة%20المعايدة.jpg" alt="عيد مبارك" crossorigin="anonymous">
            <div class="name-overlay" id="nameOverlay"></div>
        </div>
    </div>

    <script>
        function previewName() {
            const name = document.getElementById('name').value;
            const nameOverlay = document.getElementById('nameOverlay');
            nameOverlay.textContent = name;
        }

        function downloadImage() {
            previewName();

            html2canvas(document.getElementById('card'), {
                useCORS: true,
                scale: 3,
                width: document.querySelector('.card').offsetWidth,
                height: document.querySelector('.card').offsetHeight
            }).then(canvas => {
                const link = document.createElement('a');
                link.download = 'eid_card.png';
                link.href = canvas.toDataURL('image/png');
                link.click();
            });
        }
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

</body>

</html>
